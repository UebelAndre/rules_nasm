# Copyright (c) 2024 Morgan Wajda-Levie.

load("@rules_nasm//nasm:defs.bzl", "nasm_test", "nasm_library", "nasm_binary")

# placeholder for testing github workflow
sh_test(
    name = "always_succeed",
    size = "small",
    srcs = ["true.sh"],
)

nasm_test(
    name = "nasm_test_test",
    size = "small",
    src = "always_succeed_main.asm",
)

cc_test(
    name = "nasm_component_test",
    size = "small",
    srcs = ["nasm_component_test.c"],
    deps = [":nasm_component"],
)

nasm_library(
    name = "nasm_component",
    src = "nasm_component_test.asm",
)

sh_test(
    name = "nasm_binary_test",
    size = "small",
    srcs = [":nasm_executable"],
)

nasm_binary(
    name = "nasm_executable",
    src = "always_succeed_main.asm",
)
